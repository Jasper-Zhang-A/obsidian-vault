# PPT例题精解：正交投影计算 (第31页)

**目标**：求向量 $\mathbf{b}$ 在由 $\{ \mathbf{v}_1, \mathbf{v}_2 \}$ 张成的子空间 $W$ 上的正交投影 $\text{proj}_W(\mathbf{b})$。

**已知向量**:
$$
\mathbf{v}_1 = \begin{bmatrix} -1 \\ 3 \\ 1 \\ 1 \end{bmatrix}, \quad
\mathbf{v}_2 = \begin{bmatrix} 6 \\ -8 \\ -2 \\ -4 \end{bmatrix}, \quad
\mathbf{b} = \begin{bmatrix} 1 \\ 1 \\ 0 \\ 1 \end{bmatrix}
$$

---

### 解题步骤

#### 第一步：检查基的正交性

正交投影公式的前提是，子空间的基必须是**正交**的。我们先检查一下 $\mathbf{v}_1$ 和 $\mathbf{v}_2$ 是否正交。
$$
\mathbf{v}_1 \cdot \mathbf{v}_2 = (-1)(6) + (3)(-8) + (1)(-2) + (1)(-4) = -6 - 24 - 2 - 4 = -36
$$
因为内积不为0，所以 $\{ \mathbf{v}_1, \mathbf{v}_2 \}$ 不是一个正交基。我们需要用 **格拉姆-施密特过程** 创建一个正交基 $\{ \mathbf{u}_1, \mathbf{u}_2 \}$。

---

#### 第二步：创建正交基 (Gram-Schmidt)

1.  **令第一个正交基向量 $\mathbf{u}_1$ 等于 $\mathbf{v}_1$**:
    $$
    \mathbf{u}_1 = \mathbf{v}_1 = \begin{bmatrix} -1 \\ 3 \\ 1 \\ 1 \end{bmatrix}
    $$

2.  **计算第二个正交基向量 $\mathbf{u}_2$**:
    $\mathbf{u}_2$ 的计算方法是，从 $\mathbf{v}_2$ 中减去它在 $\mathbf{u}_1$ 上的投影分量。**这里分式的意义是指， $v_2$ 在 $u_1$ 上面所占的分量比例**
    $$
    \mathbf{u}_2 = \mathbf{v}_2 - \text{proj}_{\mathbf{u}_1}(\mathbf{v}_2) = \mathbf{v}_2 - \frac{\mathbf{v}_2 \cdot \mathbf{u}_1}{\mathbf{u}_1 \cdot \mathbf{u}_1} \mathbf{u}_1
    $$
    我们来计算所需的内积：
    - $\mathbf{v}_2 \cdot \mathbf{u}_1 = \mathbf{v}_2 \cdot \mathbf{v}_1 = -36$ （已在第一步算出）
    - $\mathbf{u}_1 \cdot \mathbf{u}_1 = (-1)^2 + 3^2 + 1^2 + 1^2 = 1 + 9 + 1 + 1 = 12$

    代入公式：
    $$
    \mathbf{u}_2 = \begin{bmatrix} 6 \\ -8 \\ -2 \\ -4 \end{bmatrix} - \frac{-36}{12} \begin{bmatrix} -1 \\ 3 \\ 1 \\ 1 \end{bmatrix} = \begin{bmatrix} 6 \\ -8 \\ -2 \\ -4 \end{bmatrix} + 3 \begin{bmatrix} -1 \\ 3 \\ 1 \\ 1 \end{bmatrix} = \begin{bmatrix} 6-3 \\ -8+9 \\ -2+3 \\ -4+3 \end{bmatrix} = \begin{bmatrix} 3 \\ 1 \\ 1 \\ -1 \end{bmatrix}
    $$
    现在我们有了一个正交基 $W = \text{Span}\{\mathbf{u}_1, \mathbf{u}_2\}$。

---

#### 第三步：计算在正交基上的投影

现在我们可以用正交投影公式来计算 $\mathbf{b}$ 在子空间 $W$ 上的投影 $\hat{\mathbf{b}}$。
$$
\hat{\mathbf{b}} = \text{proj}_W(\mathbf{b}) = \frac{\mathbf{b} \cdot \mathbf{u}_1}{\mathbf{u}_1 \cdot \mathbf{u}_1} \mathbf{u}_1 + \frac{\mathbf{b} \cdot \mathbf{u}_2}{\mathbf{u}_2 \cdot \mathbf{u}_2} \mathbf{u}_2
$$
计算所需的内积：
- $\mathbf{b} \cdot \mathbf{u}_1 = (1)(-1) + (1)(3) + (0)(1) + (1)(1) = -1+3+0+1 = 3$
- $\mathbf{u}_1 \cdot \mathbf{u}_1 = 12$ （已在第二步算出）
- $\mathbf{b} \cdot \mathbf{u}_2 = (1)(3) + (1)(1) + (0)(1) + (1)(-1) = 3+1+0-1 = 3$
- $\mathbf{u}_2 \cdot \mathbf{u}_2 = 3^2 + 1^2 + 1^2 + (-1)^2 = 9+1+1+1 = 12$

代入公式：
$$
\hat{\mathbf{b}} = \frac{3}{12} \mathbf{u}_1 + \frac{3}{12} \mathbf{u}_2 = \frac{1}{4} \mathbf{u}_1 + \frac{1}{4} \mathbf{u}_2
$$
$$
\hat{\mathbf{b}} = \frac{1}{4} \begin{bmatrix} -1 \\ 3 \\ 1 \\ 1 \end{bmatrix} + \frac{1}{4} \begin{bmatrix} 3 \\ 1 \\ 1 \\ -1 \end{bmatrix} = \begin{bmatrix} -1/4 + 3/4 \\ 3/4 + 1/4 \\ 1/4 + 1/4 \\ 1/4 - 1/4 \end{bmatrix} = \begin{bmatrix} 2/4 \\ 4/4 \\ 2/4 \\ 0 \end{bmatrix} = \begin{bmatrix} 1/2 \\ 1 \\ 1/2 \\ 0 \end{bmatrix}
$$

---

### 最终答案
向量 $\mathbf{b}$ 在子空间 $W$ 上的正交投影是：
$$
\hat{\mathbf{b}} = \begin{bmatrix} 1/2 \\ 1 \\ 1/2 \\ 0 \end{bmatrix}
$$