# 学习笔记：非原点中心圆域的极坐标/柱面坐标积分

在处理多重积分时，我们经常遇到形如 $x^2+y^2=ax$ 或 $x^2+y^2=by$ 的方程。这是一个**核心考点**，它们描述的是一个圆心不在原点，但经过原点的圆。

* $x^2-ax+y^2=0 \implies (x-a/2)^2 + y^2 = (a/2)^2$：圆心在 $(a/2, 0)$，半径为 $a/2$。
* $x^2+y^2-by=0 \implies x^2 + (y-b/2)^2 = (b/2)^2$：圆心在 $(0, b/2)$，半径为 $b/2$。

在极坐标下，它们的方程会变得非常简洁：
* $r^2 = ar\cos\theta \implies r = a\cos\theta$
* $r^2 = br\sin\theta \implies r = b\sin\theta$

下面我们通过2024年Q3的两道真题，来分析如何处理这类问题。

---

## 案例一：积分区域是“月牙形”(2024 Q3.a.i)

### 题目原文
计算积分： $\int_{1}^{2}\int_{0}^{\sqrt{2x-x^{2}}}\frac{1}{(x^{2}+y^{2})^{2}}dydx$

### 解题思路与易错点分析

> [!warning] Common Pitfall
> 看到 $\sqrt{2x-x^2}$ 就要立刻想到配方法，识别出它是一个圆。同时，要注意 x 的积分限 $[1,2]$ 并没有覆盖整个圆，只是一部分。

1.  **识别和分析积分区域 (Identify & Analyze)**
    * 内层积分限是 $y = \sqrt{2x-x^2}$。两边平方得 $y^2 = 2x - x^2$。
    * 整理得 $x^2-2x+y^2=0$，配方后为 $(x-1)^2+y^2=1$。这是一个圆心在 $(1,0)$，半径为1的圆。
    * 外层积分限是 $1 \le x \le 2$，并且 $y \ge 0$ (因为是 $\sqrt{\dots}$)。
    * **画图分析**：结合起来，积分区域 D 是由直线 $x=1$、直线 $x=2$ 和上半圆弧 $y=\sqrt{2x-x^2}$ 围成的“月牙形”区域。
        ![Region D1](https://i.imgur.com/gKj3t0m.png)

2.  **转换为极坐标并确定积分限 (Convert & Find Limits)**
    * **被积函数**: $\frac{1}{(x^2+y^2)^2} = \frac{1}{(r^2)^2} = \frac{1}{r^4}$。
    * **确定 $\theta$ 的范围**: 区域从 x 轴正向 ($\theta=0$) 开始，最上方的边界点是直线 $x=1$ 和圆的交点 $(1,1)$。点 $(1,1)$ 对应的角度是 $\theta = \arctan(1/1) = \pi/4$。所以 $0 \le \theta \le \pi/4$。
    * **确定 $r$ 的范围 (关键易错点)**：对于一个固定的角度 $\theta$，射线从原点出发，
        * 它首先进入区域是穿过直线 **$x=1$**。在极坐标下，$r\cos\theta=1 \implies r = \sec\theta$。这是 $r$ 的**下限**。
        * 它最后离开区域是穿过圆弧 **$(x-1)^2+y^2=1$**。在极坐标下，这个圆的方程是 $r=2\cos\theta$。这是 $r$ 的**上限**。
        * 所以，$r$ 的范围是 $\sec\theta \le r \le 2\cos\theta$。

3.  **建立并计算积分 (Set up & Evaluate)**
    $$ \int_{0}^{\pi/4} \int_{\sec\theta}^{2\cos\theta} \frac{1}{r^4} \cdot r \,dr d\theta = \int_{0}^{\pi/4} \int_{\sec\theta}^{2\cos\theta} r^{-3} \,dr d\theta $$
    (后续计算略)

---

## 案例二：积分区域是完整的半圆形 (2024 Q3.c)

### 题目原文
计算三重积分 $\iiint_{D}z\sqrt{x^{2}+y^{2}}dzdxdy$，其中区域 D 由柱面 $y=\sqrt{2x-x^{2}}$，以及平面 $z=0, z=a(a>0), y=0$ 围成。

### 解题思路与易错点分析

1.  **识别和分析积分区域 (Identify & Analyze)**
    * 积分区域的“底面”在 xy 平面上，由 $y=\sqrt{2x-x^2}$ 和 $y=0$ 围成。
    * $y=\sqrt{2x-x^2}$ 同样是圆 $(x-1)^2+y^2=1$ 的上半部分。
    * $y=0$ 是 x 轴。
    * **画图分析**：这次的底面是**完整的上半圆**，从 $(0,0)$ 到 $(2,0)$。
        ![Region D2](https://i.imgur.com/1Gf3h5A.png)
    * 在 z 方向上，区域的高度是从 $z=0$ 到 $z=a$。

2.  **转换为柱面坐标并确定积分限 (Convert & Find Limits)**
    * **被积函数**: $z\sqrt{x^2+y^2} = zr$。
    * **确定 $\theta$ 的范围**: 因为是完整的上半圆，所以角度从中 x 轴正向 ($\theta=0$) 扫到 y 轴正向 ($\theta=\pi/2$)。所以 $0 \le \theta \le \pi/2$。
    * **确定 $r$ 的范围**: 对于一个固定的角度 $\theta$，射线从原点出发，
        * 它从**原点**就进入了区域。所以 $r$ 的**下限**是 0。
        * 它最后离开区域是穿过圆弧 $r=2\cos\theta$。这是 $r$ 的**上限**。
        * 所以，$r$ 的范围是 $0 \le r \le 2\cos\theta$。
    * **确定 $z$ 的范围**: 题目已给，$0 \le z \le a$。

3.  **建立并计算积分 (Set up & Evaluate)**
    $$ \int_{0}^{\pi/2} \int_{0}^{2\cos\theta} \int_{0}^{a} (zr) \cdot r \,dz dr d\theta = \int_{0}^{\pi/2} \int_{0}^{2\cos\theta} \int_{0}^{a} zr^2 \,dz dr d\theta $$
    (后续计算略)

### 总结与归纳

1.  **警惕偏心圆**: 见到 $x^2 \pm ax + y^2=0$ 或 $x^2+y^2 \pm by=0$ 的形式，立即配方并转换为极坐标方程 $r= \mp a\cos\theta$ 或 $r = \mp b\sin\theta$。
2.  **画图是生命线**: 一定要画出 xy 平面上的积分区域草图。这对于正确判断 $\theta$ 的范围至关重要。
3.  **看清 r 的起点**: 通过草图，仔细观察在任意角度 $\theta$ 方向上，射线是从**原点** ($r=0$) 进入区域，还是从**另一条曲线** ($r = g(\theta)$) 进入区域。这将决定 $r$ 的积分下限。


# 学习笔记：非原点中心圆域的极坐标/柱面坐标积分

在处理多重积分时，我们经常遇到形如 $x^2+y^2=ax$ 或 $x^2+y^2=by$ 的方程。这是一个**核心考点**，它们描述的是一个圆心不在原点，但经过原点的圆。

* $x^2-ax+y^2=0 \implies (x-a/2)^2 + y^2 = (a/2)^2$：圆心在 $(a/2, 0)$，半径为 $a/2$。
* $x^2+y^2-by=0 \implies x^2 + (y-b/2)^2 = (b/2)^2$：圆心在 $(0, b/2)$，半径为 $b/2$。

在极坐标下，它们的方程会变得非常简洁：
* $r^2 = ar\cos\theta \implies r = a\cos\theta$
* $r^2 = br\sin\theta \implies r = b\sin\theta$

下面我们通过2024年Q3的两道真题，来分析如何处理这类问题。

---

## 案例一：积分区域是“月牙形”(2024 Q3.a.i)

### 题目原文
计算积分： $\int_{1}^{2}\int_{0}^{\sqrt{2x-x^{2}}}\frac{1}{(x^{2}+y^{2})^{2}}dydx$

### 解题思路与易错点分析

> [!warning] Common Pitfall
> 看到 $\sqrt{2x-x^2}$ 就要立刻想到配方法，识别出它是一个圆。同时，要注意 x 的积分限 $[1,2]$ 并没有覆盖整个圆，只是一部分。

1.  **识别和分析积分区域 (Identify & Analyze)**
    * 内层积分限是 $y = \sqrt{2x-x^2}$。配方后为 $(x-1)^2+y^2=1$。这是一个圆心在 $(1,0)$，半径为1的圆。
    * 外层积分限是 $1 \le x \le 2$，并且 $y \ge 0$。
    * **区域描述**: 这是一个由三条线围成的区域：
        1.  **左边界**: 垂直线 $x=1$。
        2.  **右边界**: 圆弧 $(x-1)^2+y^2=1$ 的右半部分。
        3.  **下边界**: x轴的一部分，从 $x=1$ 到 $x=2$。
    * **字符画示意图**:
        ```
              y
              ^
            1 + . . . . . . . . .# (1,1)
              | . . . . . . . ##
              | . . Area. . #
              | . . . . . #
              | . . . . .#
            --+-----------#------> x
            O |         1 | 2
        ```

2.  **转换为极坐标并确定积分限 (Convert & Find Limits)**
    * **被积函数**: $\frac{1}{(x^2+y^2)^2} = \frac{1}{(r^2)^2} = \frac{1}{r^4}$。
    * **确定 $\theta$ 的范围**: 区域从 x 轴正向 ($\theta=0$) 开始，最上方的边界点是 $(1,1)$，对应角度 $\theta = \pi/4$。所以 $0 \le \theta \le \pi/4$。
    * **确定 $r$ 的范围 (关键易错点)**：对于一个固定的角度 $\theta$，射线从原点出发，
        * 它首先穿过直线 **$x=1$** 进入区域。在极坐标下，$r\cos\theta=1 \implies r = \sec\theta$。这是 $r$ 的**下限**。
        * 它最后穿过圆弧 **$(x-1)^2+y^2=1$** 离开区域。在极坐标下，这个圆的方程是 $r=2\cos\theta$。这是 $r$ 的**上限**。
        * 所以，$r$ 的范围是 $\sec\theta \le r \le 2\cos\theta$。

3.  **建立并计算积分 (Set up & Evaluate)**
    $$\int_{0}^{\pi/4} \int_{\sec\theta}^{2\cos\theta} \frac{1}{r^4} \cdot r \,dr d\theta = \int_{0}^{\pi/4} \int_{\sec\theta}^{2\cos\theta} r^{-3} \,dr d\theta$$

---

## 案例二：积分区域是完整的半圆形 (2024 Q3.c)

### 题目原文
计算三重积分 $\iiint_{D}z\sqrt{x^{2}+y^{2}}dzdxdy$，其中区域 D 由柱面 $y=\sqrt{2x-x^{2}}$，以及平面 $z=0, z=a(a>0), y=0$ 围成。

### 解题思路与易错点分析

1.  **识别和分析积分区域 (Identify & Analyze)**
    * 积分区域的“底面”在 xy 平面上，由 $y=\sqrt{2x-x^2}$ (圆心在(1,0)的圆的上半部分) 和 $y=0$ (x 轴) 围成。
    * **区域描述**: 这次的底面是**完整的上半圆**，直径在x轴上，从 $(0,0)$ 到 $(2,0)$。
    * **字符画示意图**:
        ```
              y
              ^
            1 + . . . . # # # . . . . (1,1)
              | . . # . . . . . # . .
              | . # . . Area. . . # .
              |.# . . . . . . . . . #.
            --#-----------+-----------#------> x
            O |         1           2
        ```
    * 在 z 方向上，区域的高度是从 $z=0$ 到 $z=a$。

2.  **转换为柱面坐标并确定积分限 (Convert & Find Limits)**
    * **被积函数**: $z\sqrt{x^2+y^2} = zr$。
    * **确定 $\theta$ 的范围**: 因为是完整的上半圆，所以角度从 x 轴正向 ($\theta=0$) 扫到 y 轴正向 ($\theta=\pi/2$)。所以 $0 \le \theta \le \pi/2$。
    * **确定 $r$ 的范围**: 对于一个固定的角度 $\theta$，射线从**原点** ($r=0$) 开始进入区域，从圆弧 $r=2\cos\theta$ 离开。所以，$r$ 的范围是 $0 \le r \le 2\cos\theta$。
    * **确定 $z$ 的范围**: 题目已给，$0 \le z \le a$。

3.  **建立并计算积分 (Set up & Evaluate)**
    $$\int_{0}^{\pi/2} \int_{0}^{2\cos\theta} \int_{0}^{a} (zr) \cdot r \,dz dr d\theta = \int_{0}^{\pi/2} \int_{0}^{2\cos\theta} \int_{0}^{a} zr^2 \,dz dr d\theta$$

### 总结与归纳

1.  **警惕偏心圆**: 见到 $x^2 \pm ax + y^2=0$ 或 $x^2+y^2 \pm by=0$ 的形式，立即配方并转换为极坐标方程 $r= \mp a\cos\theta$ 或 $r = \mp b\sin\theta$。
2.  **画图是生命线**: 一定要画出 xy 平面上的积分区域草图。这对于正确判断 $\theta$ 的范围至关重要。
3.  **看清 r 的起点**: 通过草图，仔细观察在任意角度 $\theta$ 方向上，射线是从**原点** ($r=0$) 进入区域，还是从**另一条曲线** ($r = g(\theta)$) 进入区域。这将决定 $r$ 的积分下限。