# Implicit Differentiation Deep Dive / 隐函数求导深度解析 (Assignment-6, Q3)

> [!question] Problem Statement
> Assuming that the equation below defines $y$ as a differentiable function of $x$. Find the value of $\frac{dy}{dx}$ at the point $(0, \ln 2)$.
> $$xe^y + \sin(xy) + y - \ln(2) = 0$$

---

> [!warning] My Mistake / 我的错误分析
> 
> 我在对第二项 $\sin(xy)$ 求导时，错误地写成了：
> $$ \frac{d}{dx}(\sin(xy)) \rightarrow y \cdot \sin(xy) + \frac{dy}{dx} \cdot \sin(xy) \quad \text{(❌ Incorrect)} $$
> **错误原因 (Root Cause):**
> 这个错误在于混淆了**链式法则 (Chain Rule)** 和**乘积法则 (Product Rule)** 的结构。
> 
> * 对 $\sin(xy)$ 求导，外层函数是 $\sin()$，内层函数是 $xy$。
> * 链式法则要求我们将**外层函数的导数** ($\cos(xy)$) 乘以**内层函数的导数** ($\frac{d}{dx}(xy)$)。
> * 而我的错误做法是，直接将内层函数的导数 ($\frac{d}{dx}(xy) = y + x\frac{dy}{dx}$) 与**原函数** $\sin(xy)$ 相乘，这在结构上是错误的。

---

## Correct Solution Walkthrough / 正确解法步骤

有两种标准方法可以解决这个问题，它们的结果必然相同。

### Method 1: Direct Implicit Differentiation (直接求导法)

**Step 1: Differentiate the entire equation with respect to $x$.**
$$ \frac{d}{dx}(xe^y) + \frac{d}{dx}(\sin(xy)) + \frac{d}{dx}(y) - \frac{d}{dx}(\ln 2) = \frac{d}{dx}(0) $$

**Step 2: Differentiate term-by-term.**
* **Term 1 (Product Rule):**
    $$ \frac{d}{dx}(xe^y) = e^y + xe^y\frac{dy}{dx} $$
* **Term 2 (Chain Rule, then Product Rule):**
> [!tip] Correct way to differentiate $\sin(xy)$
    > $$ \frac{d}{dx}(\sin(xy)) = \cos(xy) \cdot \frac{d}{dx}(xy) $$
    > $$ = \cos(xy) \cdot \left(y + x\frac{dy}{dx}\right) = y\cos(xy) + x\cos(xy)\frac{dy}{dx} \quad \text{(✅ Correct)} $$
* **Term 3:**
    $$ \frac{d}{dx}(y) = \frac{dy}{dx} $$

**Step 3: Assemble and solve for $\frac{dy}{dx}$.**
将所有项组合起来：
$$ (e^y + xe^y\frac{dy}{dx}) + (y\cos(xy) + x\cos(xy)\frac{dy}{dx}) + \frac{dy}{dx} = 0 $$
将包含 $\frac{dy}{dx}$ 的项放在一边：
$$ \frac{dy}{dx}(xe^y + x\cos(xy) + 1) = -e^y - y\cos(xy) $$
解出 $\frac{dy}{dx}$:
$$ \frac{dy}{dx} = - \frac{e^y + y\cos(xy)}{xe^y + x\cos(xy) + 1} $$

**Step 4: Evaluate at the point $(0, \ln 2)$.**
$$ \frac{dy}{dx} \bigg|_{(0, \ln 2)} = - \frac{e^{\ln 2} + (\ln 2)\cos(0)}{0 \cdot e^{\ln 2} + 0 \cdot \cos(0) + 1} = - (2 + \ln 2) $$

### Method 2: The Formula Method (公式法)

**Step 1: Define $F(x, y) = 0$.**
$$ F(x,y) = xe^{y}+\sin(xy)+y-\ln 2 $$

**Step 2: Calculate the Partial Derivatives of $F$.**
* **计算 $F$ 对 $x$ 的偏导数 $\frac{\partial F}{\partial x}$ (也记作 $F_x$)**:
    (在求导时，将 $y$ 视为常数)
    $$ \frac{\partial F}{\partial x} = \frac{\partial}{\partial x} (xe^{y}+\sin(xy)+y-\ln 2) $$
    $$ = e^y + y\cos(xy) $$
* **计算 $F$ 对 $y$ 的偏导数 $\frac{\partial F}{\partial y}$ (也记作 $F_y$)**:
    (在求导时，将 $x$ 视为常数)
    $$ \frac{\partial F}{\partial y} = \frac{\partial}{\partial y} (xe^{y}+\sin(xy)+y-\ln 2) $$
    $$ = xe^y + x\cos(xy) + 1 $$

**Step 3: Apply the Implicit Differentiation Formula.**
公式为：
$$ \frac{dy}{dx} = - \frac{\partial F / \partial x}{\partial F / \partial y} $$
代入我们计算出的偏导数：
$$ \frac{dy}{dx} = - \frac{e^y + y\cos(xy)}{xe^y + x\cos(xy) + 1} $$

**Step 4: Evaluate at the point $(0, \ln 2)$.**
最终结果同样为 $-(2 + \ln 2)$。

---

# Implicit Differentiation for Multivariable Functions / 多变量隐函数求导 (Assignment-6, Q4)

> [!question] Problem Statement
> Find the values of $\frac{\partial z}{\partial x}$ and $\frac{\partial z}{\partial y}$ at the point $(1, \ln 2, \ln 3)$ if the equation below defines $z$ as a function of $x$ and $y$.
> $$xe^{y}+ye^{z}+2\ln x-2-3\ln 2=0$$

---
## Introduction
这道题的本质和第三题一样，都是**隐函数求导 (Implicit Differentiation)**，但这里是 $z$ 作为 $x$ 和 $y$ 两个变量的函数，即 $z=z(x,y)$。我们同样可以用“公式法”和“直接求导法”两种方法来解决。

## Method 1: The Formula Method (公式法)

对于由 $F(x, y, z) = 0$ 定义的隐函数，我们有以下公式：
$$ \frac{\partial z}{\partial x} = - \frac{\partial F / \partial x}{\partial F / \partial z} \quad \text{and} \quad \frac{\partial z}{\partial y} = - \frac{\partial F / \partial y}{\partial F / \partial z} $$

**Step 1: Define the Function $F(x, y, z)$.**
$$F(x, y, z) = xe^{y}+ye^{z}+2\ln x-2-3\ln 2$$

**Step 2: Calculate the three necessary partial derivatives: $\frac{\partial F}{\partial x}$, $\frac{\partial F}{\partial y}$, and $\frac{\partial F}{\partial z}$.**
* $$\frac{\partial F}{\partial x} = e^y + \frac{2}{x}$$
* $$\frac{\partial F}{\partial y} = xe^y + e^z$$
* $$\frac{\partial F}{\partial z} = ye^z$$

**Step 3: Evaluate the partial derivatives at the point $(1, \ln 2, \ln 3)$.**
* $$ \frac{\partial F}{\partial x} \bigg|_{(1, \ln 2, \ln 3)} = e^{\ln 2} + \frac{2}{1} = 2 + 2 = 4$$
* $$ \frac{\partial F}{\partial y} \bigg|_{(1, \ln 2, \ln 3)} = 1 \cdot e^{\ln 2} + e^{\ln 3} = 2 + 3 = 5$$
* $$ \frac{\partial F}{\partial z} \bigg|_{(1, \ln 2, \ln 3)} = (\ln 2) \cdot e^{\ln 3} = (\ln 2) \cdot 3 = 3\ln 2$$

**Step 4: Apply the formulas to find the final answers.**
* $$\frac{\partial z}{\partial x} = - \frac{4}{3\ln 2}$$
* $$\frac{\partial z}{\partial y} = - \frac{5}{3\ln 2}$$

---

## Method 2: Direct Partial Differentiation (直接求导法)

这个方法更基本，它直接从方程本身出发。

### A. Finding $\frac{\partial z}{\partial x}$

**Step 1: Differentiate the entire equation with respect to $x$, holding $y$ constant.**
$$ \frac{\partial}{\partial x}(xe^{y}+ye^{z}+2\ln x-2-3\ln 2) = \frac{\partial}{\partial x}(0) $$
$$ \frac{\partial}{\partial x}(xe^y) + \frac{\partial}{\partial x}(ye^z) + \frac{\partial}{\partial x}(2\ln x) = 0 $$
* **Term 1**: $\frac{\partial}{\partial x}(xe^y) = e^y$ (因为 $y$ 是常数)
* **Term 2**: $\frac{\partial}{\partial x}(ye^z) = y \cdot \frac{\partial}{\partial x}(e^z) = y \cdot e^z \cdot \frac{\partial z}{\partial x}$ (因为 $z$ 是 $x$ 的函数，使用链式法则)
* **Term 3**: $\frac{\partial}{\partial x}(2\ln x) = \frac{2}{x}$

**Step 2: Assemble and solve for $\frac{\partial z}{\partial x}$.**
$$ e^y + ye^z \frac{\partial z}{\partial x} + \frac{2}{x} = 0 $$
$$ ye^z \frac{\partial z}{\partial x} = -e^y - \frac{2}{x} $$
$$ \frac{\partial z}{\partial x} = - \frac{e^y + 2/x}{ye^z} $$

**Step 3: Evaluate at the point $(1, \ln 2, \ln 3)$.**
$$ \frac{\partial z}{\partial x} \bigg|_{(1, \ln 2, \ln 3)} = - \frac{e^{\ln 2} + 2/1}{(\ln 2)e^{\ln 3}} = - \frac{2+2}{3\ln 2} = - \frac{4}{3\ln 2} $$

### B. Finding $\frac{\partial z}{\partial y}$

**Step 1: Differentiate the entire equation with respect to $y$, holding $x$ constant.**
$$ \frac{\partial}{\partial y}(xe^{y}+ye^{z}+2\ln x-2-3\ln 2) = \frac{\partial}{\partial y}(0) $$
$$ \frac{\partial}{\partial y}(xe^y) + \frac{\partial}{\partial y}(ye^z) + \frac{\partial}{\partial y}(2\ln x) = 0 $$
* **Term 1**: $\frac{\partial}{\partial y}(xe^y) = xe^y$ (因为 $x$ 是常数)
* **Term 2**: 
> [!warning] Common Pitfall
    > 在对 $y$ 求导时，项 $ye^z$ 中的 $y$ 和 $z$ (因为 $z=z(x,y)$) 都与 $y$ 相关，所以必须使用**乘积法则**！
    > $$ \frac{\partial}{\partial y}(ye^z) = \left(\frac{\partial y}{\partial y}\right) \cdot e^z + y \cdot \left(\frac{\partial e^z}{\partial y}\right) $$
    > $$ = 1 \cdot e^z + y \cdot \left(e^z \cdot \frac{\partial z}{\partial y}\right) = e^z + ye^z\frac{\partial z}{\partial y} $$
* **Term 3**: $\frac{\partial}{\partial y}(2\ln x) = 0$ (因为 $x$ 是常数)

**Step 2: Assemble and solve for $\frac{\partial z}{\partial y}$.**
$$ xe^y + e^z + ye^z\frac{\partial z}{\partial y} = 0 $$
$$ ye^z\frac{\partial z}{\partial y} = -xe^y - e^z $$
$$ \frac{\partial z}{\partial y} = - \frac{xe^y+e^z}{ye^z} $$

**Step 3: Evaluate at the point $(1, \ln 2, \ln 3)$.**
$$ \frac{\partial z}{\partial y} \bigg|_{(1, \ln 2, \ln 3)} = - \frac{1 \cdot e^{\ln 2} + e^{\ln 3}}{(\ln 2)e^{\ln 3}} = - \frac{2+3}{3\ln 2} = - \frac{5}{3\ln 2} $$

两种方法的结果完全一致。
