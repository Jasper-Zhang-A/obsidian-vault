# Implicit Differentiation Deep Dive / 隐函数求导深度解析 (Assignment-6, Q3)

> [!question] Problem Statement
> Assuming that the equation below defines $y$ as a differentiable function of $x$. Find the value of $\frac{dy}{dx}$ at the point $(0, \ln 2)$.
> $$xe^y + \sin(xy) + y - \ln(2) = 0$$

---

> [!warning] My Mistake / 我的错误分析
> 
> 我在对第二项 $\sin(xy)$ 求导时，错误地写成了：
> $$ \frac{d}{dx}(\sin(xy)) \rightarrow y \cdot \sin(xy) + \frac{dy}{dx} \cdot \sin(xy) \quad \text{(❌ Incorrect)} $$
> **错误原因 (Root Cause):**
> 这个错误在于混淆了**链式法则 (Chain Rule)** 和**乘积法则 (Product Rule)** 的结构。
> 
> * 对 $\sin(xy)$ 求导，外层函数是 $\sin()$，内层函数是 $xy$。
> * 链式法则要求我们将**外层函数的导数** ($\cos(xy)$) 乘以**内层函数的导数** ($\frac{d}{dx}(xy)$)。
> * 而我的错误做法是，直接将内层函数的导数 ($\frac{d}{dx}(xy) = y + x\frac{dy}{dx}$) 与**原函数** $\sin(xy)$ 相乘，这在结构上是错误的。

---

## Correct Solution Walkthrough / 正确解法步骤

有两种标准方法可以解决这个问题，它们的结果必然相同。

### Method 1: Direct Implicit Differentiation (直接求导法)

**Step 1: Differentiate the entire equation with respect to $x$.**
$$ \frac{d}{dx}(xe^y) + \frac{d}{dx}(\sin(xy)) + \frac{d}{dx}(y) - \frac{d}{dx}(\ln 2) = \frac{d}{dx}(0) $$

**Step 2: Differentiate term-by-term.**
* **Term 1 (Product Rule):**
    $$ \frac{d}{dx}(xe^y) = e^y + xe^y\frac{dy}{dx} $$
* **Term 2 (Chain Rule, then Product Rule):**
> [!tip] Correct way to differentiate $\sin(xy)$
    > $$ \frac{d}{dx}(\sin(xy)) = \cos(xy) \cdot \frac{d}{dx}(xy) $$
    > $$ = \cos(xy) \cdot \left(y + x\frac{dy}{dx}\right) = y\cos(xy) + x\cos(xy)\frac{dy}{dx} \quad \text{(✅ Correct)} $$
* **Term 3:**
    $$ \frac{d}{dx}(y) = \frac{dy}{dx} $$

**Step 3: Assemble and solve for $\frac{dy}{dx}$.**
将所有项组合起来：
$$ (e^y + xe^y\frac{dy}{dx}) + (y\cos(xy) + x\cos(xy)\frac{dy}{dx}) + \frac{dy}{dx} = 0 $$
将包含 $\frac{dy}{dx}$ 的项放在一边：
$$ \frac{dy}{dx}(xe^y + x\cos(xy) + 1) = -e^y - y\cos(xy) $$
解出 $\frac{dy}{dx}$:
$$ \frac{dy}{dx} = - \frac{e^y + y\cos(xy)}{xe^y + x\cos(xy) + 1} $$

**Step 4: Evaluate at the point $(0, \ln 2)$.**
$$ \frac{dy}{dx} \bigg|_{(0, \ln 2)} = - \frac{e^{\ln 2} + (\ln 2)\cos(0)}{0 \cdot e^{\ln 2} + 0 \cdot \cos(0) + 1} = - (2 + \ln 2) $$

### Method 2: The Formula Method (公式法)

**Step 1: Define $F(x, y) = 0$.**
$$ F(x,y) = xe^{y}+\sin(xy)+y-\ln 2 $$

**Step 2: Calculate the Partial Derivatives of $F$.**
* **计算 $F$ 对 $x$ 的偏导数 $\frac{\partial F}{\partial x}$ (也记作 $F_x$)**:
    (在求导时，将 $y$ 视为常数)
    $$ \frac{\partial F}{\partial x} = \frac{\partial}{\partial x} (xe^{y}+\sin(xy)+y-\ln 2) $$
    $$ = e^y + y\cos(xy) $$
* **计算 $F$ 对 $y$ 的偏导数 $\frac{\partial F}{\partial y}$ (也记作 $F_y$)**:
    (在求导时，将 $x$ 视为常数)
    $$ \frac{\partial F}{\partial y} = \frac{\partial}{\partial y} (xe^{y}+\sin(xy)+y-\ln 2) $$
    $$ = xe^y + x\cos(xy) + 1 $$

**Step 3: Apply the Implicit Differentiation Formula.**
公式为：
$$ \frac{dy}{dx} = - \frac{\partial F / \partial x}{\partial F / \partial y} $$
代入我们计算出的偏导数：
$$ \frac{dy}{dx} = - \frac{e^y + y\cos(xy)}{xe^y + x\cos(xy) + 1} $$

**Step 4: Evaluate at the point $(0, \ln 2)$.**
最终结果同样为 $-(2 + \ln 2)$。